<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_22) on Wed Feb 23 16:08:16 EST 2011 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
ReflectionMarshallerFactory (CMU Commons Data 1.1.1 API)
</TITLE>

<META NAME="date" CONTENT="2011-02-23">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ReflectionMarshallerFactory (CMU Commons Data 1.1.1 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ReflectionMarshallerFactory.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/reflect/PropertyEditorMarshaller.html" title="class in edu.cmu.commons.data.dao.mongo.reflect"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?edu/cmu/commons/data/dao/mongo/reflect/ReflectionMarshallerFactory.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ReflectionMarshallerFactory.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.cmu.commons.data.dao.mongo.reflect</FONT>
<BR>
Class ReflectionMarshallerFactory</H2>
<PRE>
<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../../../resources/inherit.gif" ALT="extended by "><B>edu.cmu.commons.data.dao.mongo.reflect.ReflectionMarshallerFactory</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/EntityMarshallerFactory.html" title="interface in edu.cmu.commons.data.dao.mongo">EntityMarshallerFactory</A>, <A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/MarshallerFactory.html" title="interface in edu.cmu.commons.data.dao.mongo">MarshallerFactory</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>ReflectionMarshallerFactory</B><DT>extends <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A><DT>implements <A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/EntityMarshallerFactory.html" title="interface in edu.cmu.commons.data.dao.mongo">EntityMarshallerFactory</A>, <A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/MarshallerFactory.html" title="interface in edu.cmu.commons.data.dao.mongo">MarshallerFactory</A></DL>
</PRE>

<P>
Creates (or retrieves from an internal cache) EntityMarshaller instances via
 Java Bean reflection (see <A HREF="http://java.sun.com/javase/6/docs/api/java/beans/Introspector.html?is-external=true" title="class or interface in java.beans"><CODE>Introspector</CODE></A>).
 
 <h1>EntityMarshaller Creation</h1>
 
 During EntityMarshaller creation, new <A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/Marshaller.html" title="interface in edu.cmu.commons.data.dao.mongo"><CODE>Marshaller</CODE></A> instances are
 created for Java types encountered during recursive introspection of the type
 graph rooted at a given Entity type. See below for a discussion of the rules
 which govern how these <code>Marshaller</code>s are created for various Java
 types.
 
 <h2 id="simple">Simple Types</h2>
 
 Instances of simple types directly supported by <CODE>BSONEncoder</CODE> and
 <CODE>BSONDecoder</CODE> are passed between Java and BSON data models with minimal
 conversion. These types include:
 
 <ul>
 <li>Basic types
 <ul>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><CODE>String</CODE></A></li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang"><CODE>Boolean</CODE></A></li>
 <li><code>byte[]</code></li>
 </ul>
 </li>
 <li>Number types, including:
 <ul>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Byte.html?is-external=true" title="class or interface in java.lang"><CODE>Byte</CODE></A></li> (treated as Integer during (de)serialization)
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Short.html?is-external=true" title="class or interface in java.lang"><CODE>Short</CODE></A></li> (treated as Integer during (de)serialization)
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang"><CODE>Integer</CODE></A></li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic"><CODE>AtomicInteger</CODE></A></li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang"><CODE>Long</CODE></A></li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicLong.html?is-external=true" title="class or interface in java.util.concurrent.atomic"><CODE>AtomicLong</CODE></A></li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang"><CODE>Float</CODE></A></li> (treated as Double during (de)serialization)
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang"><CODE>Double</CODE></A></li>
 </ul>
 </li>
 <li>Special Java types
 <ul>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util"><CODE>Date</CODE></A></li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><CODE>UUID</CODE></A></li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html?is-external=true" title="class or interface in java.util.regex"><CODE>Pattern</CODE></A></li>
 </ul>
 </li>
 <li>BSON types
 <ul>
 <li><CODE>BSONObject</CODE></li>
 <li><CODE>ObjectId</CODE></li>
 <li><CODE>Binary</CODE></li>
 <li><CODE>Symbol</CODE></li>
 <li><CODE>BSONTimestamp</CODE></li>
 <li><CODE>Code</CODE></li>
 <li><CODE>CodeWScope</CODE></li>
 </ul>
 </li>
 <li>Collection types where <code>S</code> is a simple type
 <ul>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><CODE>Collection</CODE></A><code>&lt;S&gt;</code></li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util"><CODE>List</CODE></A><code>&lt;S&gt;</code></li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html?is-external=true" title="class or interface in java.util"><CODE>ArrayList</CODE></A><code>&lt;S&gt;</code></li>
 <li><code>S[]</code> (Marshalling of arrays of simple types is pass-through, but
 unmarshalling requires a transform from <CODE>BasicBSONList</CODE> to <code>S[]</code>)
 </li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><CODE>Map</CODE></A><code>&lt;String, S&gt;</code></li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util"><CODE>HashMap</CODE></A><code>&lt;String, S&gt;</code></li>
 <li><A HREF="http://java.sun.com/javase/6/docs/api/java/util/LinkedHashMap.html?is-external=true" title="class or interface in java.util"><CODE>LinkedHashMap</CODE></A><code>&lt;String, S&gt;</code></li>
 </ul>
 </li>
 </ul>
 
 Please note that types derived from these simple types will not benefit from
 this pass-through behavior because (1) they may have additional properties
 which the BSONEncoder would otherwise ignore, and (2) the BSONDecoder would
 not generate instances of the correct derived type when deserializing binary
 data. Instead, alternate marshalling strategies are required, as detailed
 below.
 
 <h2 id="composite">Composite Types</h2>
 
 A composite type defines one or more properties, each of which has a name, a
 type, and accessor/mutator methods (Java Bean concepts are closely related;
 See <A HREF="http://java.sun.com/javase/6/docs/api/java/beans/BeanInfo.html?is-external=true" title="class or interface in java.beans"><CODE>BeanInfo</CODE></A> for more information). For our purposes, there are two
 refinements of composite types; Entity types and Embeddable types.
 
 <h3 id="entity">Entity Types</h3>
 
 An Entity type is a concrete type which has a set of one or more properties
 and a no-args default constructor. In addition, an entity type must specify
 which of its properties acts as a unique identifier. This class follows a few
 basic rules to chose which entity type property to treat as the "id"
 property:
 
 <ul>
 <li>If only a single property is defined, then it must be the id property.</li>
 <li>Property annotated with <CODE>Id</CODE>.</li>
 <li>Property whose name is <code>"id"</code>.</li>
 <li>Property whose type is <code>ObjectId</code>.</li>
 </ul>
 
 If none of these rules fires, an exception is raised during EntityMarshaller
 creation.
 <p>
 Generated <code>EntityMarshaller</code>s produce <code>Map&lt;String, Object&gt;</code>s
 during marshalling which contain keys to support all non-<code>null</code>
 entity instance properties. A special key <code>"_id"</code> is used for the id
 property to match MongoDB "User Document" conventions. Property values are
 marshalled as necessary.
 
 <h3 id="embed">Embeddable Types</h3>
 
 An embeddable type is even more closely related to a Java Bean type than an
 entity type; It also has a set of properties, but is not required to have an
 "id" property. Instances of Embeddable types are conceptually "owned" by a
 single entity instance. When creating <code>EntityMarshaller</code>s, if this
 class encounters a type which is composite, but not a registered entity type,
 then the type is assumed to represent an embeddable type. Alternately, you
 may explicitly label types as embeddable with the <CODE>Embeddable</CODE>
 annotation.
 
 <h2 id="poly">Polymorphic Types</h2>
 
 Frequently, a composite type may define a property whose type is an interface
 or abstract class. The value of such a property at runtime will be an
 instance of some concrete type which implements (or extends) the property's
 type. In this situation, the concrete type of the property value must be
 recorded within marshaled output if we need to construct a new value for this
 property later on during unmarshalling.
 <p>
 By default, generated <code>Marshaller</code>s ignore this issue by assuming that
 no new value will need to be created during unmarshalling. In other words, it
 is assumed that the destination value into which data will be unmarshalled
 will never be <code>null</code>. In many cases, this is a reasonable assumption.
 For instance, let's say we have a <code>Document</code> entity type which defines
 a property named <code>words</code> of type <code>Set&lt;String&gt;</code>. On default
 construction of a <code>Document</code>, its <code>terms</code> property is initialized
 with an empty <code>TreeSet</code>. During unmarshalling of <code>Document</code> data
 for the <code>words</code> property, the existing <code>TreeSet</code> will be used to
 store the unmarshalled <code>String</code>s. If the destination <code>Set</code> were
 <code>null</code>, an exception would be raised.
 <p>
 On the other hand, perhaps the <code>Set</code> implementation used changes based
 on runtime requirements. For instance, when the <code>Set</code> contains less
 than N elements a <code>TreeSet</code> is used, but once it grows past this
 threshold, it is replaced with a <code>HashSet</code>. In this case, polymorphism
 must be supported by the <code>Marshaller</code> as mentioned above.
 <p>
 During <code>EntityMarshaller</code> creation, if this class encounters a property
 which has been annotated with <A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/reflect/Polymorphic.html" title="annotation in edu.cmu.commons.data.dao.mongo.reflect"><CODE>Polymorphic</CODE></A>, then a <code>Marshaller</code>
 for the property is created which handles the property as follows: During
 marshalling, a <code>Map&lt;String, Object&gt;</code> is created to encode the value's
 data along with a special <code>"className"</code> key with which the value's
 runtime type is recorded. During unmarshalling, if the destination value is
 <code>null</code> or its type does not match that defined by the
 <code>"className"</code> key, a new instance of the appropriate type will be
 created via the class's default constructor.
 
 <h2>Container Types</h2>
 
 BSON also has built-in support for <A HREF="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><CODE>Map</CODE></A> and <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang"><CODE>Iterable</CODE></A>
 serialization which are deserialized to <CODE>BasicBSONObject</CODE> and
 <CODE>BasicBSONList</CODE>, respectively. However, special care is taken when
 generating <code>Marshaller</code>s for container types as the instances they
 contain may need custom marshalling.
 
 <h3>Collection Types</h3>
 
 As noted in section <a href="#simple">Simple Types</a>, if type
 <code>Collection&lt;E&gt;</code>, <code>List&lt;E&gt;</code>, <code>ArrayList&lt;E&gt;</code>, or <code>E[]</code>
 is encountered where <code>E</code> is a simple type, then minimal marshalling of
 data is performed. For instance, during marshalling, if the destination
 marshalled collection is <code>null</code> or empty, then the source unmarshalled
 collection is returned as is. Similarly, during unmarshalling, if the
 destination unmarshalled collection is <code>null</code> or empty, then the source
 marshalled collection is returned as is, though care is taken to properly
 unmarshal data into Array types. During marshalling or unmarshalling, if
 destination collection is not <code>null</code>, then data from the source
 collection is added to the destination collection without further
 transformation.
 <p>
 If a type <code>C extends Collection&lt;E&gt;</code> is encountered where <code>C</code> is
 not <a href="#composite">composite</a> and <code>E</code> is not a simple type, a
 custom <code>Marshaller</code> is created which produces a new
 <code>Iterable&lt;Object&gt;</code> during marshalling whose elements are properly
 marshalled versions of the input collection's elements. If the destination
 collection is <code>null</code> during unmarshalling, an attempt is made to create
 a new destination collection instance via <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Class.html?is-external=true#newInstance()" title="class or interface in java.lang"><CODE>Class.newInstance()</CODE></A>.
 <p>
 If a type <code>C extends Collection&lt;E&gt;</code> is encountered where <code>C</code> is
 not <a href="#composite">composite</a>, it is treated as above, though during
 unmarshalling it is assumed that the destination <code>Collection</code> instance
 into which unmarshalled elements should be added is not <code>null</code>, or that
 <code>C</code> is a concrete type having a no-args default constructor with which
 a new <code>C</code> instance may be create.
 <p>
 Alternatively, if a <code>Collection</code> type is part of a composite type
 property definition and the property is annotated with <A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/reflect/Polymorphic.html" title="annotation in edu.cmu.commons.data.dao.mongo.reflect"><CODE>Polymorphic</CODE></A>,
 an approach similar to that introduced in section <a href="#poly">Polymorphic
 Types</a> is used. For these <code>Collection</code> types, custom
 <code>Marshaller</code>s are created which produce <code>Map&lt;String, Object&gt;</code>s
 during marshalling which contain <code>"className"</code> and <code>"elements"</code>
 keys whose values specify the name of the source collection implementation
 and collection element data, respectively. If the source collection type is
 compatible with <code>Collection&lt;E&gt;</code> where <code>E</code> is a simple type, then
 <code>"elements"</code> will reference the source collection instance directly. If
 <code>E</code> is not a simple type, then <code>"elements"</code> will reference a new
 <code>Iterable&lt;Object&gt;</code> whose elements are properly marshalled versions of
 the source collection's elements. Note that the collection class referenced
 by <code>"className"</code> must have a no-args default constructor with which new
 instances may be created during unmarshalling, as needed.
 
 <h3>Map Types</h3>
 
 Rules for map types are similar to those for collection types. If a type
 <code>Map&lt;String, V&gt;</code>, <code>HashMap&lt;String, V&gt;</code>, or
 <code>LinkedHashMap&lt;String, V&gt;</code> is encountered where <code>V</code> is a simple
 type, then no marshalling of data is performed. If <code>V</code> is not a simple
 type, a custom <code>Marshaller</code> is created which produces a new
 <code>BasicDBObject</code> during marshalling whose keys match the source map's
 keys, and whose values are properly marshalled versions of the source map's
 values.
 <p>
 If a type <code>M extends Map&lt;K, V&gt;</code> is encountered where M is not <a
 href="#composite">composite</a> and <code>K</code> is not <code>String</code>, then a
 custom <code>Marshaller&lt;Map&lt;K, V&gt;, Object&gt;</code> is created which produces a
 <code>List&lt;Map&lt;String, Object&gt;&gt;</code> during marshalling where each
 <code>Map&lt;String, Object&gt;</code> has keys <code>"key"</code> and <code>"value"</code> which
 reference properly marshalled values.
 <p>
 If a type "isa" <code>Map</code> and is not <a href="#composite">composite</a>, it
 is treated as above, though during unmarshalling it is assumed that the
 destination <code>Map</code> instance into which unmarshalled entries may be put
 is not <code>null</code>. If, on the other hand, the destination <code>Map</code> is
 <code>null</code>, an exception is thrown.
 <p>
 Alternatively, if a <code>Map</code> type is part of a composite type property
 definition and the property is annotated with <A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/reflect/Polymorphic.html" title="annotation in edu.cmu.commons.data.dao.mongo.reflect"><CODE>Polymorphic</CODE></A>, an
 approach similar to that introduced in section <a href="#poly">Polymorphic
 Types</a> is used. For these <code>Map</code> types, custom <code>Marshaller</code>s
 are created which produce <code>Map&lt;String, Object&gt;</code>s during marshalling
 which contain <code>"className"</code> and <code>"entries"</code> keys whose values
 specify the name of the source map implementation and map entry data,
 respectively. If the source map type is compatible with
 <code>Map&lt;String, V&gt;</code> where <code>V</code> is a simple type, then
 <code>"entries"</code> will reference the source map instance directly. If
 <code>V</code> is not a simple type, then <code>"entries"</code> will reference a new
 <code>LinkedHashMap&lt;String, Object&gt;</code> whose keys match the source map's keys,
 and whose values are properly marshalled versions of the source map's values.
 If source map key type is not <code>String</code>, then <code>"entries"</code> will
 reference a new <code>List&lt;Map&lt;String, Object&gt;&gt;</code> where each
 <code>Map&lt;String, Object&gt;</code> has keys <code>"key"</code> and <code>"value"</code> which
 reference properly marshalled values. Note that the map class referenced by
 <code>"className"</code> must have a no-args default constructor with which new
 instances may be created during unmarshalling.
 
 <h2>Hybrid Composite-Container Types</h2>
 
 Entity and embeddable composite types may also be collection or map container
 types. In these situations, the composite type must not have an existing
 property named <code>"elements"</code> in case of a hybrid collection type, or
 <code>"entries"</code> in the case of a hybrid map type, as these keys are used to
 store container data during marshalling.
 
 <h2 id="refs">Entity References</h2>
 
 If a composite or container type references another Entity type, a
 <code>Marshaller</code> is created which marshals only referenced Entity
 instances' id values. During unmarshalling, a special <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/reflect/Proxy.html?is-external=true" title="class or interface in java.lang.reflect"><CODE>Proxy</CODE></A> Entity
 instance is created which references the id value, along with a <A HREF="../../../../../../../edu/cmu/commons/data/dao/Dao.html" title="interface in edu.cmu.commons.data.dao"><CODE>Dao</CODE></A>
 instance capable of fetching the associated Entity instance on first access
 of a method not representing the id property accessor. This effectively
 constitutes a "lazy-loading" behavior for entity references.
 
 <h2>Enum Types</h2>
 
 Custom Enum types are supported via marshalling to/from <CODE>Symbol</CODE>
 instances.
 
 <h2>Limitations</h2>
 
 <ul>
 <li>Hybrid Composite-Collection and Composite-Map types must not define
 properties with names "elements" or "entries", respectively.</li>
 <li>Cascading of persistence operations on referenced Entity instances is not
 supported.</li>
 <li>Eager fetching of referenced entities during unmarshalling not supported.
 </li>
 </ul>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>hazen</DD>
<DT><B>See Also:</B><DD><a
 href="http://www.mongodb.org/display/DOCS/Java+Language+Center">MongoDB Java
 Language Center</a></DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/reflect/ReflectionMarshallerFactory.html#ReflectionMarshallerFactory()">ReflectionMarshallerFactory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;E&gt; <A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/Marshaller.html" title="interface in edu.cmu.commons.data.dao.mongo">Marshaller</A>&lt;E,com.mongodb.DBObject&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/reflect/ReflectionMarshallerFactory.html#getEntityMarshaller(java.lang.Class)">getEntityMarshaller</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;E&gt;&nbsp;entityClass)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T&gt; <A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/Marshaller.html" title="interface in edu.cmu.commons.data.dao.mongo">Marshaller</A>&lt;T,<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/reflect/ReflectionMarshallerFactory.html#getMarshaller(java.lang.Class)">getMarshaller</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;T&gt;&nbsp;sourceClass)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ReflectionMarshallerFactory()"><!-- --></A><H3>
ReflectionMarshallerFactory</H3>
<PRE>
public <B>ReflectionMarshallerFactory</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getMarshaller(java.lang.Class)"><!-- --></A><H3>
getMarshaller</H3>
<PRE>
public &lt;T&gt; <A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/Marshaller.html" title="interface in edu.cmu.commons.data.dao.mongo">Marshaller</A>&lt;T,<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt; <B>getMarshaller</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;T&gt;&nbsp;sourceClass)</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/MarshallerFactory.html#getMarshaller(java.lang.Class)">getMarshaller</A></CODE> in interface <CODE><A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/MarshallerFactory.html" title="interface in edu.cmu.commons.data.dao.mongo">MarshallerFactory</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getEntityMarshaller(java.lang.Class)"><!-- --></A><H3>
getEntityMarshaller</H3>
<PRE>
public &lt;E&gt; <A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/Marshaller.html" title="interface in edu.cmu.commons.data.dao.mongo">Marshaller</A>&lt;E,com.mongodb.DBObject&gt; <B>getEntityMarshaller</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;E&gt;&nbsp;entityClass)</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/EntityMarshallerFactory.html#getEntityMarshaller(java.lang.Class)">getEntityMarshaller</A></CODE> in interface <CODE><A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/EntityMarshallerFactory.html" title="interface in edu.cmu.commons.data.dao.mongo">EntityMarshallerFactory</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ReflectionMarshallerFactory.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../../edu/cmu/commons/data/dao/mongo/reflect/PropertyEditorMarshaller.html" title="class in edu.cmu.commons.data.dao.mongo.reflect"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?edu/cmu/commons/data/dao/mongo/reflect/ReflectionMarshallerFactory.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ReflectionMarshallerFactory.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2008-05-19-2011 <a href="http://www.cs.cmu.edu/">Carnegie Mellon University</a>. All Rights Reserved.
</BODY>
</HTML>
